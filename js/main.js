"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function closeMobileNav(){document.querySelector(".nav-links").classList.remove("mobile-nav-showing")}function scrollToSection(){var e=$(window).innerWidth()<1e3?100:200,t=$(sectionToScrollTo).offset().top;$("html, body").animate({scrollTop:t-e},600)}function updateQuestionNumber(){currentNum.innerHTML=Number(currentQuestionIndex+1),totalQuestionNum.innerHTML=Number(questionsLength)}function onFocusShowNext(){firstInput.removeEventListener("focus",onFocusShowNext),nextButton.classList.add("show")}function showError(e){var t="";switch(e){case"EMPTYSTR":t="Please fill the field before continuing";break;case"INVALIDEMAIL":t="Please enter a valid email address";break;default:t=""}errorMessage.innerHTML=t,errorMessage.classList.add("show")}function clearError(){errorMessage.classList.remove("show")}function submit(){contactForm.querySelector(".contact-form-inner").classList.add("hide");var e=contactForm.querySelector(".final-message");$.ajax({url:"contactengine.php",type:"POST",data:$("#minimalForm").serialize(),success:function(){console.log("working!"),e.innerHTML="Thanks for your message 👋🏻! I&rsquo;ll be in touch shortly.",e.classList.add("show")},error:function(){e.innerHTML="Oops! There has been an error. If you'd like to reach me try reaching out directly at sarahbethholden@gmail.com",e.classList.add("show")}})}function validade(){var e=questions[currentQuestionIndex].querySelector("input")||questions[currentQuestionIndex].querySelector("textarea"),t=e.value;return""===t?(showError("EMPTYSTR"),!1):!("email"===e.type&&!/(.+)@(.+){2,}\.(.+){2,}/.test(t)&&(showError("INVALIDEMAIL"),1))}function updateProgressBar(){progressBar.style.width=currentQuestionIndex*(100/questionsLength)+"%"}function showNextQuestion(){function e(n){if(support.transitions&&this.removeEventListener(transEndEventName,e),t)submit();else{contactForm.classList.remove("show-next");var r=document.createElement("span");r.className="number-next",r.innerHTML=Number(currentQuestionIndex+1),currentNum.innerHTML=r.innerHTML,(questions[currentQuestionIndex].querySelector("input")||questions[currentQuestionIndex].querySelector("textarea")).focus()}}var t=!1;if(!validade())return!1;currentQuestionIndex===questionsLength-1&&(t=!0),clearError();var n=questions[currentQuestionIndex];if(++currentQuestionIndex,updateProgressBar(),!t){updateQuestionNumber(),contactForm.classList.add("show-next");var r=questions[currentQuestionIndex];n.classList.remove("current"),r.classList.add("current")}support.transitions?progressBar.addEventListener(transEndEventName,e):e()}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();document.querySelector(".burger").addEventListener("click",function(e){e.preventDefault(),document.querySelector(".nav-links").classList.add("mobile-nav-showing")}),document.querySelector(".close-burger").addEventListener("click",function(e){e.preventDefault(),closeMobileNav()});var sectionToScrollTo="#header";$(".nav-links a:not(.close-burger), .fo-sho-thats-me, .scroll-down-duh").on("click",function(e){e.preventDefault(),sectionToScrollTo=$(this).attr("href"),closeMobileNav(),scrollToSection()});var headerContent=document.querySelector("#header"),skillsContent=document.querySelector("#about"),workContent=document.querySelector("#work"),quote1Content=document.querySelector("#quote1"),quote2Content=document.querySelector("#quote2"),quote3Content=document.querySelector("#quote3"),quote4Content=document.querySelector("#quote4"),headerWatcher=scrollMonitor.create(headerContent),skillsWatcher=scrollMonitor.create(skillsContent),workWatcher=scrollMonitor.create(workContent),quote1Watcher=scrollMonitor.create(quote1Content),quote2Watcher=scrollMonitor.create(quote2Content),quote3Watcher=scrollMonitor.create(quote3Content),quote4Watcher=scrollMonitor.create(quote4Content);headerWatcher.partiallyExitViewport(function(){headerContent.classList.add("scrolled")}),skillsWatcher.enterViewport(function(){skillsContent.classList.add("scrolled")}),workWatcher.enterViewport(function(){workContent.classList.add("scrolled")}),quote1Watcher.enterViewport(function(){quote1Content.classList.add("scrolled")}),quote2Watcher.enterViewport(function(){quote2Content.classList.add("scrolled")}),quote3Watcher.enterViewport(function(){quote3Content.classList.add("scrolled")}),quote4Watcher.enterViewport(function(){quote4Content.classList.add("scrolled")});var MorphingBG=function(){function e(t){_classCallCheck(this,e),this.DOM={},this.DOM.el=t,this.DOM.paths=Array.from(this.DOM.el.querySelectorAll("path")),this.animate()}return _createClass(e,[{key:"animate",value:function(){this.DOM.paths.forEach(function(e){setTimeout(function(){anime({targets:e,duration:anime.random(3e3,5e3),easing:[.5,0,.5,1],d:e.getAttribute("pathdata:id"),loop:!0,direction:"alternate"})},anime.random(0,1e3))})}}]),e}();new MorphingBG(document.querySelector(".header-bg")),new MorphingBG(document.querySelector(".play-bg")),new MorphingBG(document.querySelector(".divider-1")),new MorphingBG(document.querySelector(".divider-2"));var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},transEndEventName=transEndEventNames[Modernizr.prefixed("transition")],support={transitions:Modernizr.csstransitions},currentQuestionIndex=0,questions=document.querySelectorAll("ol.questions > li"),questionsLength=questions.length,contactForm=document.querySelector("#minimalForm"),progressBar=document.querySelector(".progress"),nextButton=document.querySelector(".next"),currentNum=document.querySelector(".number-current"),totalQuestionNum=document.querySelector(".number-total"),errorMessage=document.querySelector(".error-message"),firstInput=questions[currentQuestionIndex].querySelector("input");questions[0].classList.add("current"),firstInput.addEventListener("focus",onFocusShowNext),nextButton.addEventListener("click",function(e){e.preventDefault(),showNextQuestion()}),document.addEventListener("keydown",function(e){var t=e.keyCode||e.which;13===t?(e.preventDefault(),showNextQuestion()):9===t&&e.preventDefault()}),updateQuestionNumber();
